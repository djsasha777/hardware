<!-- #######  SPONGO! #########-->
<head><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">
<style>html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}</style></head>
<h1 style="color: #5e9ca0;">WELCOME HOME!</h1>

<!-- Кнопка -->
<button id="requestButton">SERVER ON</button>

<div id="responseDiv"></div>

<script>
document.getElementById("requestButton").addEventListener("click", async () => {
    try {
        const express = require('express');
        const { createProxyMiddleware } = require('http-proxy-middleware');

        const app = express();
        const backendTarget = 'http://localhost:8100/on'; // Replace with your backend API URL

        app.use(
        '/api', // Requests to /api will be proxied
        createProxyMiddleware({
            target: backendTarget,
            changeOrigin: true, // Needed for virtual hosted sites
            // Optional: pathRewrite to modify the URL path before forwarding
            // pathRewrite: { '^/api': '' },
        })
        );
    } catch(error) {
        console.error('error:', error); // Логируем ошибку в консоль
        document.getElementById("responseDiv").innerText = `error: ${error.message}`; // Сообщаем пользователю об ошибке
    }
});
</script>


<ol style="list-style: none; font-size: 14px; line-height: 32px; font-weight: bold;">
<li style="clear: both;">&nbsp;</li>
</ol>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
<p>&nbsp;</p>
<p><strong>&nbsp;</strong></p>
